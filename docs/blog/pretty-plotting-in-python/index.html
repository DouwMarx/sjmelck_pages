<!DOCTYPE html>
<html><!DOCTYPE html>
<html lang = "en">
    <head>
        <title>Sjmelck Blog</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    </head>
</html>
<body><header>








    <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container">
                <a class="navbar-brand mb-0 h1" href="https://ryanbalshaw.github.io/sjmelck_pages/" accesskey = "h" title="Sjmleck">
                    <i class="bi bi-robot"></i>
                    Sjmelck
                    <span class="logo-switches">
                        <button type="button" class="btn primary" accesskey="t" title="(Alt + T)">
                            <i class="bi bi-sun"></i>
                            <i class="bi bi-moon"></i>
                        </button>

                    </span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id = "navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="https://ryanbalshaw.github.io/sjmelck_pages/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">Posts</a>
                        </li>
                        

                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                About us
                            </a>
                            <ul class="dropdown-menu">
                                

                                <li>
                                <a class="dropdown-item" href="/sjmelck_pages/about/ryan-balshaw">Contributor - Ryan Balshaw</a>
                                </li>
                                

                                <li>
                                <a class="dropdown-item" href="/sjmelck_pages/about/douw-marx">Contributor - Douw Marx</a>
                                </li>
                                

                                <li>
                                <a class="dropdown-item" href="/sjmelck_pages/about/the-origins-of-sjmelck">The Sjmelck vision</a>
                                </li>
                                
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

</header>
<div id="content">
<h1>Pretty Plotting in Python</h1>
<h1 id="how-to-get-really-nice-plots">How to get really nice plots</h1>
<h2 id="minimal-working-example">Minimal working example:</h2>
<h3 id="did-this-work">Did this work?</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> matplotlib <span style="color:#f92672">import</span> pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fix</span>(ax<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, minor_flag<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, flag_3d<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ax <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>gca()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    fig <span style="color:#f92672">=</span> ax<span style="color:#f92672">.</span>get_figure()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Force the figure to be drawn</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    fig<span style="color:#f92672">.</span>canvas<span style="color:#f92672">.</span>draw()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> minor_flag:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Remove &#39;\mathdefault&#39; from all minor tick labels</span>
</span></span><span style="display:flex;"><span>        labels <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            label<span style="color:#f92672">.</span>get_text()
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">times&#34;</span>, <span style="color:#e6db74">&#34;}$.$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;-&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;−&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> label <span style="color:#f92672">in</span> ax<span style="color:#f92672">.</span>get_xminorticklabels()
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>        ax<span style="color:#f92672">.</span>set_xticklabels(labels, minor<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        labels <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            label<span style="color:#f92672">.</span>get_text()
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">times&#34;</span>, <span style="color:#e6db74">&#34;}$.$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;-&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;−&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> label <span style="color:#f92672">in</span> ax<span style="color:#f92672">.</span>get_yminorticklabels()
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>        ax<span style="color:#f92672">.</span>set_yticklabels(labels, minor<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> flag_3d:
</span></span><span style="display:flex;"><span>            labels <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                label<span style="color:#f92672">.</span>get_text()
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">times&#34;</span>, <span style="color:#e6db74">&#34;}$.$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;-&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;−&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> label <span style="color:#f92672">in</span> ax<span style="color:#f92672">.</span>get_zminorticklabels()
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>            ax<span style="color:#f92672">.</span>set_zticklabels(labels, minor<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Remove &#39;\mathdefault&#39; from all minor tick labels</span>
</span></span><span style="display:flex;"><span>        labels <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            label<span style="color:#f92672">.</span>get_text()
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">times&#34;</span>, <span style="color:#e6db74">&#34;}$.$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;-&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;−&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> label <span style="color:#f92672">in</span> ax<span style="color:#f92672">.</span>get_xmajorticklabels()
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>        ax<span style="color:#f92672">.</span>set_xticklabels(labels, minor<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        labels <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            label<span style="color:#f92672">.</span>get_text()
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">times&#34;</span>, <span style="color:#e6db74">&#34;}$.$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;-&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;−&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> label <span style="color:#f92672">in</span> ax<span style="color:#f92672">.</span>get_ymajorticklabels()
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>        ax<span style="color:#f92672">.</span>set_yticklabels(labels, minor<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> flag_3d:
</span></span><span style="display:flex;"><span>            labels <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                label<span style="color:#f92672">.</span>get_text()
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">times&#34;</span>, <span style="color:#e6db74">&#34;}$.$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;-&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;−&#34;</span>, <span style="color:#e6db74">&#34;$</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">mathdefault{-}$&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> label <span style="color:#f92672">in</span> ax<span style="color:#f92672">.</span>get_zmajorticklabels()
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>            ax<span style="color:#f92672">.</span>set_zticklabels(labels, minor<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(figsize <span style="color:#f92672">=</span> (<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">6</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x_range <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>linspace(<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">1000</span>)
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>plot(x_range, x_range<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;$y=x^2$&#34;</span>)
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;Base example (no nice plots)&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>legend()
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#34;Record number&#34;</span>)
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#34;$y$&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show(block<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Override parameters</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rc(<span style="color:#e6db74">&#34;mathtext&#34;</span>, fontset<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cm&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rc(<span style="color:#e6db74">&#34;font&#34;</span>, family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;serif&#34;</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">12</span>, serif<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cmr10&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, figsize <span style="color:#f92672">=</span> (<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">6</span>))
</span></span><span style="display:flex;"><span>fig<span style="color:#f92672">.</span>suptitle(<span style="color:#e6db74">&#34;The ideal plot (with and without fix)&#34;</span>)
</span></span><span style="display:flex;"><span>ax <span style="color:#f92672">=</span> ax<span style="color:#f92672">.</span>flatten()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x_range <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>linspace(<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">1000</span>)
</span></span><span style="display:flex;"><span>ax[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>plot(x_range, x_range<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;$y=x^2$&#34;</span>)
</span></span><span style="display:flex;"><span>ax[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>plot(x_range, x_range<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;$y=x^2$&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ax[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;Figure without fix&#34;</span>)
</span></span><span style="display:flex;"><span>ax[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;Figure with fix&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> axs <span style="color:#f92672">in</span> ax:
</span></span><span style="display:flex;"><span>    axs<span style="color:#f92672">.</span>legend()
</span></span><span style="display:flex;"><span>    axs<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#34;$x$&#34;</span>)
</span></span><span style="display:flex;"><span>    axs<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#34;$y$&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Fix the second figure</span>
</span></span><span style="display:flex;"><span>fix(ax[<span style="color:#ae81ff">1</span>], minor_flag<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, flag_3d<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show(block<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><p>$$ y = x^2 $$ - Markdown does not work (SAD)!</p>
<p><a href="https://www.morch.com/posts/2021-07-24-mathjax-in-hugo/">https://www.morch.com/posts/2021-07-24-mathjax-in-hugo/</a></p>


        </div></body>
</html>
